{% extends 'baseFront.html.twig' %}

{% block pageStyle %}
	{{ encore_entry_link_tags('app')}}
	<style>
		.chart {
			width: 500px;
			height: 500px;
		}
		.comments-container {
			width: 100%;
		}

		.comment {
			display: flex;
			margin-bottom: 20px;
		}

		.comment-avatar img {
			width: 50px;
			height: 50px;
			border-radius: 50%;
			background-color: #ccc; /* Couleur de fond de l'image de profil */
			margin-right: 10px;
		}

		.comment-content {
			flex: 1;
		}

		.comment-meta {
			margin-bottom: 5px;
		}

		.comment-author {
			font-weight: bold;
		}

		.comment-date {
			color: #888;
			font-size: 0.8em;
		}

		.comment-text {
			margin-top: 5px;
		}
	</style>
{% endblock %}

{% block body %}
	<body>

		{{ block("header") }}

		<section id="center" class="center_o pt-2 pb-2">
			<div class="container-xl">
				<div class="row center_o1">
					<div class="col-md-5">
						<div class="center_o1l">
							<h2 class="mb-0">Contact</h2>
						</div>
					</div>
					<div class="col-md-7">
						<div class="center_o1r text-end">
							<h6 class="mb-0 col_red">
								<a href="#">Home</a>
								<span class="me-2 ms-2 text-light">
									<i class="fa fa-caret-right align-middle"></i>
								</span>
								Contact</h6>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section id="contact" class="pt-4 pb-4 bg_grey">
			<div class="container-xl">
				<div class="row contact_1 bg_dark  pt-5 pb-5">
					<div class="col-md-3">
						<div class="contact_1i row">
							<div class="col-md-2 col-2">
								<div class="contact_1il">
									<span class="col_red fs-3">
										<i class="fa fa-map-marker"></i>
									</span>
								</div>
							</div>
							<div class="col-md-10 col-10">
								<div class="contact_1ir">
									<h5 class="col_red">Cinema Address</h5>
									<p class="mb-0">{{ cinema.adresse }}</p>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-3">
						<div class="contact_1i row">
							<div class="col-md-2 col-2">
								<div class="contact_1il">
									<span class="col_red fs-3">
										<i class="fa fa-clock-o"></i>
									</span>
								</div>
							</div>
							<div class="col-md-10 col-10">
								<div class="contact_1ir">
									<h5 class="col_red">Office Hours</h5>
									<p class="mb-0">Monday To Saturday - 10.00 - 07.00</p>
									<p class="mb-0">Sunday - Closed</p>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-3">
						<div class="contact_1i row">
							<div class="col-md-2 col-2">
								<div class="contact_1il">
									<span class="col_red fs-3">
										<i class="fa fa-envelope"></i>
									</span>
								</div>
							</div>
							<div class="col-md-10 col-10">
								<div class="contact_1ir">
									<h5 class="col_red">E-mail</h5>
									<p class="mb-0">info@gmail.com</p>
									<p class="mb-0">info@gmail.com</p>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-3">
						<div class="contact_1i row">
							<div class="col-md-2 col-2">
								<div class="contact_1il">
									<span class="col_red fs-3">
										<i class="fa fa-phone"></i>
									</span>
								</div>
							</div>
							<div class="col-md-10 col-10">
								<div class="contact_1ir">
									<h5 class="col_red">Phone Numbers</h5>
									<p class="mb-0">+123 123 456</p>
									<p class="mb-0">+123 123 456</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row contact_2 mt-4">
					<div class="col-md-3">
						<div class="contact_2r">
							<h5 class="mb-3">LONDON OFFICE</h5>
							<p>
								<i class="fa fa-car col_red me-1"></i>
								111 Queen Sv, WIC 1, India</p>
							<p>
								<i class="fa fa-phone col_red me-1"></i>
								+123 123 456</p>
							<p>
								<i class="fa fa-globe col_red me-1"></i>
								<a href="#">info@gmail.com</a>
							</p>
							<p>
								<i class="fa fa-envelope col_red me-1"></i>
								<a href="#">info@gmail.com</a>
							</p>
							<h5 class="mb-3 mt-4">BUSINESS HOURS</h5>
							<p>Hotline is available for 24 hours a day!..</p>
							<p>Monday â€“ Friday :
								<span class="fw-bold text-white">9am to 7pm</span>
							</p>
							<p>Saturday :
								<span class="fw-bold text-white">11am to 3pm</span>
							</p>
							<p>Sunday :
								<span class="fw-bold text-white">Closed</span>
							</p>
						</div>
					</div>
					<div class="col-md-9">
						<div class="contact_2l row">
							<div class="col-md-12">
								<h4>Comments List</h4>
								<div class="comments-container">
									{% for commentaire in commentairecinemas %}
										<div class="comment">
											<div class="comment-avatar">
												<img src="{{ asset(app.user.photoDeProfil) }}" alt="{{ app.user.nom }}" height="80" width="80">
											</div>
											<div class="comment-content">
												<div class="comment-meta">
													<span class="comment-author">{{ app.user.nom ~ ' ' ~ app.user.prenom }}</span>
												</div>
												<div class="comment-text">{{ commentaire.commentaire }}</div>
											</div>
										</div>
									{% endfor %}
								</div>
							</div>
							<div class="col-md-12">
								<h4>Add Comment</h4>
								{{ form_start(form, {'action': path('app_commentairecinema_new', {'idCinema': cinema.idCinema}), 'method': 'POST'}) }}
								{{ form_row(form.commentaire) }}
								{{ form_end(form) }}
							</div>
						</div>

						<!-- Ajoutez cette section pour afficher le graphique -->
						<div class="chart">
							<h4>Satisfaction Percentage</h4>
							{{ render_chart(chart, {'id': 'my-chart'}) }}
						</div>

					</div>

				</div>

			</div>
		</section>

		{{ block("footer") }}


		 <script>
												        window.onscroll = function () {
												            myFunction()
												        };
												
												        var navbar_sticky = document.getElementById("navbar_sticky");
												        var sticky = navbar_sticky.offsetTop;
												        var navbar_height = document.querySelector('.navbar').offsetHeight;
												
												        function myFunction() {
												            if (window.pageYOffset >= sticky + navbar_height) {
												                navbar_sticky.classList.add("sticky")
												                document.body.style.paddingTop = navbar_height + 'px';
												            } else {
												                navbar_sticky.classList.remove("sticky");
												                document.body.style.paddingTop = '0'
												            }
												        }
												
												    </script>

		{{ encore_entry_link_tags('app')}}
	 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		 <script>
												    window.onload = () => {
												        const chartData = {{ chart.getData() | json_encode | raw }};
												        const chart = new Chart(
												            document.getElementById('my-chart'),
												            {
												                type: 'doughnut',
												                data: chartData,
												                options: {
												                    scales: {
												                        y: {
												                            suggestedMin: 0,
												                            suggestedMax: 100,
												                        },
												                    },
												                },
												            }
												        );
												    }
												</script>


	</body>
{% endblock %}
